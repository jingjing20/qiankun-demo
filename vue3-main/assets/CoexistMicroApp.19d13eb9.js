import{w as Y,t as Z,d as $,u as ee,r as m,g as k,c as ne,_ as p,a as t,C as ae,i as te,b as oe,e as se,v as le,f as L,T as ce,P as _,h as ie,I as ue,j as re,E as pe,k as de,l as ve,m as fe,n as _e,o as me,p as ye,q as j,s as Ce,x as R,y as U,z as ge,A as xe,B as E,D as A,F as r,G as B,H as he,J as Ee,K as z,L as Ae}from"./index.41512060.js";import{B as Ie,_ as we}from"./index.d523975e.js";import{_ as be,a as Fe}from"./index.a456f718.js";import{c as ke}from"./index.c61bf3e0.js";import"./index.6e2d5241.js";var Be={success:ie,info:ue,error:re,warning:pe},Se={success:de,info:ve,error:fe,warning:_e},Pe=Z("success","info","warning","error"),Te=function(){return{type:_.oneOf(Pe),closable:{type:Boolean,default:void 0},closeText:_.any,message:_.any,description:_.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:_.any,closeIcon:_.any,onClose:Function}},De=$({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:Te(),setup:function(a,l){var s=l.slots,v=l.emit,f=l.attrs,y=l.expose,o=ee("alert",a),c=o.prefixCls,S=o.direction,i=m(!1),C=m(!1),I=m(),P=function(n){n.preventDefault();var u=I.value;u.style.height="".concat(u.offsetHeight,"px"),u.style.height="".concat(u.offsetHeight,"px"),i.value=!0,v("close",n)},M=function(){var n;i.value=!1,C.value=!0,(n=a.afterClose)===null||n===void 0||n.call(a)};y({animationEnd:M});var G=m({});return function(){var g,n,u=a.banner,O=a.closeIcon,N=O===void 0?(g=s.closeIcon)===null||g===void 0?void 0:g.call(s):O,T=a.closable,x=a.type,h=a.showIcon,D=k(s,a,"closeText"),w=k(s,a,"description"),V=k(s,a,"message"),b=k(s,a,"icon");h=u&&h===void 0?!0:h,x=u&&x===void 0?"warning":x||"info";var J=(w?Se:Be)[x]||null;D&&(T=!0);var e=c.value,K=ne(e,(n={},p(n,"".concat(e,"-").concat(x),!0),p(n,"".concat(e,"-closing"),i.value),p(n,"".concat(e,"-with-description"),!!w),p(n,"".concat(e,"-no-icon"),!h),p(n,"".concat(e,"-banner"),!!u),p(n,"".concat(e,"-closable"),T),p(n,"".concat(e,"-rtl"),S.value==="rtl"),n)),Q=T?t("button",{type:"button",onClick:P,class:"".concat(e,"-close-icon"),tabindex:0},[D?t("span",{class:"".concat(e,"-close-text")},[D]):N===void 0?t(ae,null,null):N]):null,W=b&&(te(b)?ke(b,{class:"".concat(e,"-icon")}):t("span",{class:"".concat(e,"-icon")},[b]))||t(J,{class:"".concat(e,"-icon")},null),X=oe("".concat(e,"-motion"),{appear:!1,css:!0,onAfterLeave:M,onBeforeLeave:function(F){F.style.maxHeight="".concat(F.offsetHeight,"px")},onLeave:function(F){F.style.maxHeight="0px"}});return C.value?null:t(ce,X,{default:function(){return[se(t("div",L(L({role:"alert"},f),{},{style:[f.style,G.value],class:[f.class,K],"data-show":!i.value,ref:I}),[h?W:null,t("div",{class:"".concat(e,"-content")},[V?t("div",{class:"".concat(e,"-message")},[V]):null,w?t("div",{class:"".concat(e,"-description")},[w]):null]),Q]),[[le,!i.value]])]}})}}});const Me=Y(De);const q=d=>(he("data-v-93480526"),d=d(),Ee(),d),Oe=q(()=>z("div",{id:"app-one"},null,-1)),Ne=q(()=>z("div",{id:"app-two"},null,-1)),Ve={name:"CoexistMicroApp"},He=$({...Ve,setup(d){const{user:a}=me(),l=m(null),s=m(null);ye(()=>{v("vue2"),v("react18")});function v(o){o==="vue2"?(l.value=j({name:"vue2App",entry:Ce,container:"#app-one",props:{path:"/communication-test"}},{sandbox:{experimentalStyleIsolation:!0},singular:!1}),l.value.mountPromise.then(()=>{R(U(a))})):o==="react18"&&(s.value=j({name:"reactApp",entry:ge,container:"#app-two",props:{path:"/communication-test"}},{sandbox:{experimentalStyleIsolation:!0},singular:!1}),s.value.mountPromise.then(()=>{R(U(a))}))}async function f(o){await y(o==="vue2"?l:s)}async function y(o){o.value&&o.value.getStatus()==="MOUNTED"&&await o.value.unmount(),o.value=null}return xe(async()=>{await Promise.all([y(l),y(s)])}),(o,c)=>{const S=Me,i=Ie,C=be,I=Fe,P=we;return E(),A(P,{direction:"vertical",size:40,class:"box"},{default:r(()=>[t(S,{message:"\u5DE6\u4FA7\u5E94\u7528\u4E3AVue2\u5B50\u5E94\u7528\uFF0C\u53F3\u4FA7\u5E94\u7528\u4E3AReact18\u5B50\u5E94\u7528\u3002",type:"success"}),t(I,{gutter:20},{default:r(()=>[t(C,{span:12},{default:r(()=>[l.value?(E(),A(i,{key:0,type:"primary",danger:"",onClick:c[0]||(c[0]=()=>f("vue2"))},{default:r(()=>[B("\u5378\u8F7DVue2\u5E94\u7528")]),_:1})):(E(),A(i,{key:1,type:"primary",onClick:c[1]||(c[1]=()=>v("vue2"))},{default:r(()=>[B("\u52A0\u8F7DVue2\u5E94\u7528")]),_:1})),Oe]),_:1}),t(C,{span:12},{default:r(()=>[s.value?(E(),A(i,{key:0,type:"primary",danger:"",onClick:c[2]||(c[2]=()=>f("react18"))},{default:r(()=>[B("\u5378\u8F7DReact18\u5E94\u7528")]),_:1})):(E(),A(i,{key:1,type:"primary",onClick:c[3]||(c[3]=()=>v("react18"))},{default:r(()=>[B("\u52A0\u8F7DReact18\u5E94\u7528")]),_:1})),Ne]),_:1})]),_:1})]),_:1})}}});const ze=Ae(He,[["__scopeId","data-v-93480526"]]);export{ze as default};
